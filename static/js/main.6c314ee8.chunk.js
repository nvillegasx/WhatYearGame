(this.webpackJsonpwhatyeargame=this.webpackJsonpwhatyeargame||[]).push([[0],{25:function(e,t,a){e.exports=a(53)},30:function(e,t,a){},31:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(3),r=a.n(l),i=(a(30),a(6)),o=a(7),c=a(9),u=a(8),m=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});window.location.hash="";var d=m,h=(a(31),a(4)),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).removeDuplicateAblums=function(e){return e.filter((function(e,t,a){return a.findIndex((function(t){return t.album.name===e.album.name}))===t}))},e.setAlbum=function(){var t=e.state.gameList.length;if(t>0){var a=e.getRandomIndex(t);"albums"===e.state.gameType?e.setState({selectedAlbum:e.state.gameList[a].album}):e.setState({selectedAlbum:e.state.gameList[a].track.album}),e.updateValidAlbums(a)}else e.setState({gameOver:!0})},e.getRandomIndex=function(e){return Math.floor(Math.random()*e)},e.updateValidAlbums=function(t){var a=e.state.gameList;a.splice(t,1),e.setState({gameList:a})},e.displayButtons=function(){return!0===e.state.gameStart?s.a.createElement("div",null,s.a.createElement("div",{className:""},s.a.createElement("button",{className:"btn btn-block btn-success btn-lg",onClick:function(){return e.startGame()}},"Start Game"))):s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-success btn-lg",onClick:function(){return e.checkUserAnswer()}},"Submit"),s.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){return e.setState({gameOver:!0})}},"End Game"))},e.startGame=function(){e.setAlbum(),!0===e.state.gameStart&&e.setState({gameStart:!1})},e.setUserInput=function(t){e.setState({userInput:t})},e.checkUserAnswer=function(){var t=e.state.selectedAlbum.release_date.substring(0,4),a=e.state.numOfCorrect,n=e.state.totalAnswered;""!==e.state.userInput&&4===e.state.userInput.length?(e.state.userInput===t?(e.setState({numOfCorrect:a+1}),h.b.success("Correct! The album was released in ".concat(t),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):h.b.error("Incorrect! The album was released in ".concat(t),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.setAlbum(),e.setState({userInput:"",totalAnswered:n+1})):h.b.warning("Error, please enter a year after 1500",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},e.restartGame=function(){e.setState({selectedAlbum:null,gameStart:!1,gameList:e.state.originalList,gameType:e.state.gameType,userInput:"",gameOver:!1,numOfCorrect:0,totalAnswered:0}),e.state.gameList.length>0&&e.setAlbum()},e.state={gameList:[],originalList:[],selectedAlbum:null,gameStart:!0,userInput:"",gameOver:!1,numOfCorrect:0,totalAnswered:0,gameType:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.data.length>0&&(this.setState({gameList:this.props.data,originalList:this.props.data,gameType:this.props.gameType}),this.setAlbum(),0===this.state.originalList.length&&0!==this.props.data.length&&this.setState({gameOver:!1,originalList:this.props.data}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"center",style:{height:"500px",width:"300px"}},s.a.createElement("div",null,s.a.createElement("div",{className:"center",style:{width:"300px"}},!this.state.gameOver&&this.state.selectedAlbum&&s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{style:{width:"500px"}},s.a.createElement("img",{alt:"album",src:this.state.selectedAlbum.images[0].url})),s.a.createElement("div",null,s.a.createElement("label",{name:"userInput"},"What year was this ablum released?"),s.a.createElement("input",{type:"number",name:"userInput",required:!0,value:this.state.userInput,minLength:"4",min:"1500",max:"2020",onChange:function(t){return e.setUserInput(t.target.value)}})))),!this.state.gameOver&&void 0!==this.state.gameList&&this.displayButtons(),this.state.gameOver&&s.a.createElement("div",null,s.a.createElement("h2",null,"Game Over"),s.a.createElement("div",null," Stats:",this.state.numOfCorrect," out of ",this.state.totalAnswered,s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-success btn-lg",onClick:function(){return e.restartGame()}},"Play Again"),s.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:this.props.goToMainMenu},"Main Menu"))))))}}]),a}(n.Component),g=["user-read-currently-playing","user-read-playback-state","playlist-read-private","user-library-read"],b=a(11),v=a.n(b),y=a(23),f=a(24),E=(a(52),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).selectGamePlay=function(t){e.setState({gameType:t}),"albums"===t?e.getGameData("albums?limit=50"):e.getGameData("".concat(t))},e.getGameData=function(t){console.log(e.state.token),console.log(t),v()({url:"https://api.spotify.com/v1/me/".concat(t),method:"get",headers:{Authorization:"Bearer "+e.state.token,"Content-Type":"application/json"}}).then((function(t){"playlists"!==e.state.gameType?e.setState({data:t.data.items,retrievedData:!0}):e.setState({data:t.data.items})}))},e.setPlaylistInfo=function(t){e.setState({playlistHref:t.target.value})},e.displayPlaylists=function(){return e.state.data.map((function(t){return s.a.createElement("div",{class:""},s.a.createElement("input",{class:"",type:"radio",name:"playlist",id:t.name,value:t.href,onClick:function(t){return e.setPlaylistInfo(t)}}),s.a.createElement("label",{class:"playlistName",for:t.name},t.name))}))},e.submitSelectedPlaylist=function(){v()({url:e.state.playlistHref,method:"get",headers:{Authorization:"Bearer "+e.state.token,"Content-Type":"application/json"}}).then((function(t){e.setState({data:t.data.tracks.items,retrievedData:!0})}))},e.goToMainMenu=function(){e.setState({data:[],retrievedData:!1})},e.state={token:null,data:[],gameType:"",retrievedData:!1,selectedPlaylist:"",playlistHref:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=d.access_token;e&&this.setState({token:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("nav",{className:"navbar navbar-default"},s.a.createElement("span",{className:"navbar-brand mb-0 h1",style:{color:"white"}},s.a.createElement("h1",null,"Guess That Year!"))),s.a.createElement("div",null,s.a.createElement(h.a,null)),!this.state.token&&s.a.createElement("div",{className:"center"},s.a.createElement(y.a,{icon:f.a,size:"10x"}),s.a.createElement("div",{className:"center"},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement("h4",null,"Guess That Year is a game that uses Spotify's Api to display album covers from a user's saved albums, playlists or liked songs. The objective of the game is to guess what year the album was released. How well do you know your music?",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("small",null,"Note: To play the game a user must have a Spotify account.")),s.a.createElement("a",{className:"btn btn-primary btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("0a341ef431f043cfbc7b9415b780d3b0","&redirect_uri=").concat("https://nvillegasx.github.io/WhatYearGame/","&scope=").concat(g.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify ")))),this.state.token&&0===this.state.data.length&&s.a.createElement("div",{className:"container center"},s.a.createElement("h2",null,"Choose what you would like to use to play the game:"),s.a.createElement("small",null,"Note: The user must have saved albums, liked songs or created playlist."),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg colButton",onClick:function(){return e.selectGamePlay("albums")}},s.a.createElement("h2",null,"Albums")),s.a.createElement("div",{className:"col-lg colButton",onClick:function(){return e.selectGamePlay("tracks")}},s.a.createElement("h2",null,"Liked Songs"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg colButton",onClick:function(){return e.selectGamePlay("playlists")}},s.a.createElement("h2",null,"Playlists")))),0!==this.state.data.length&&"playlists"===this.state.gameType&&!this.state.retrievedData&&s.a.createElement("div",null,s.a.createElement("h1",null,"Select a playlist:"),this.displayPlaylists(),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-lg btn-success",onClick:function(){return e.submitSelectedPlaylist()}},"Submit")),this.state.retrievedData&&0===this.state.data.length&&s.a.createElement("h1",null,"Unable to play no saved data."),this.state.token&&0!==this.state.data.length&&this.state.retrievedData&&s.a.createElement("div",null,s.a.createElement(p,{data:this.state.data,gameType:this.state.gameType,goToMainMenu:this.goToMainMenu})))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6c314ee8.chunk.js.map